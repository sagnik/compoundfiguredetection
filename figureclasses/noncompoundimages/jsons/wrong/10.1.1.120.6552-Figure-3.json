{"Caption":"Figure 3. WiDS-Mod: (a) the model of the 2PC protocol; (b) codes using event-driven programming (coordinator     side); (c) Sample code generated from the model. ","ImageText":[{"Text":"Subordinate","TextBB":[481.165,418.695,528.746,425.597],"Rotation":0},{"Text":"Log(\u201CReady\u201D)","TextBB":[437.832,451.707,501.302,458.807],"Rotation":0},{"Text":"Coordinator","TextBB":[552.665,418.695,598.775,425.597],"Rotation":0},{"Text":"Log(\u201CPrepare\u201D)","TextBB":[544.665,430.04,618.802,437.141],"Rotation":0},{"Text":"Prepare","TextBB":[520.332,445.361,553.079,454.034],"Rotation":0},{"Text":"Prepare_Ack","TextBB":[506.332,460.528,560.413,469.192],"Rotation":0},{"Text":"<Barrier,-1>","TextBB":[575.665,452.454,619.909,460.143],"Rotation":0},{"Text":"Collect","TextBB":[572.832,466.954,596.844,473.073],"Rotation":0},{"Text":"all","TextBB":[598.999,466.954,606.738,473.073],"Rotation":0},{"Text":"acks","TextBB":[608.998,466.954,625.083,473.073],"Rotation":0},{"Text":"N","TextBB":[584.499,477.04,589.802,484.14],"Rotation":0},{"Text":"All","TextBB":[515.165,480.04,531.135,487.141],"Rotation":0},{"Text":"Ready?","TextBB":[536.499,480.04,568.135,487.141],"Rotation":0},{"Text":"\u2026","TextBB":[613.998,481.206,619.301,488.307],"Rotation":0},{"Text":"Log(\u201CCommit\u201D)","TextBB":[549.165,493.207,617.969,500.307],"Rotation":0},{"Text":"Log(\u201CCommit\u201D)","TextBB":[431.165,514.873,499.968,521.974],"Rotation":0},{"Text":"Commit","TextBB":[520.332,508.695,553.109,517.367],"Rotation":0},{"Text":"Commit_Ack","TextBB":[509.165,520.695,563.246,529.359],"Rotation":0},{"Text":"OnPrepareAck:","TextBB":[632.332,470.746,701.254,480.811],"Rotation":0},{"Text":"if","TextBB":[642.332,483.246,649.198,493.311],"Rotation":0},{"Text":"all","TextBB":[651.832,483.246,662.921,493.311],"Rotation":0},{"Text":"ack","TextBB":[665.665,483.246,680.886,493.311],"Rotation":0},{"Text":"returned","TextBB":[683.832,483.246,720.72,493.311],"Rotation":0},{"Text":"and","TextBB":[723.499,483.246,739.387,493.311],"Rotation":0},{"Text":"all","TextBB":[642.165,495.579,653.254,505.644],"Rotation":0},{"Text":"ready","TextBB":[655.999,495.579,680.553,505.644],"Rotation":0},{"Text":"then","TextBB":[683.165,495.579,702.386,505.644],"Rotation":0},{"Text":"Send","TextBB":[651.999,508.079,674.22,518.144],"Rotation":0},{"Text":"COMMIT","TextBB":[676.832,508.079,722.453,518.144],"Rotation":0},{"Text":"to","TextBB":[724.999,508.079,733.554,518.144],"Rotation":0},{"Text":"all","TextBB":[736.332,508.079,747.421,518.144],"Rotation":0},{"Text":"<Barrier,-1>","TextBB":[575.665,519.954,619.909,527.643],"Rotation":0},{"Text":"Collect","TextBB":[572.832,533.787,596.844,539.906],"Rotation":0},{"Text":"all","TextBB":[598.999,533.787,606.738,539.906],"Rotation":0},{"Text":"acks","TextBB":[608.998,533.787,625.083,539.906],"Rotation":0},{"Text":"a.","TextBB":[436.831,548.806,445.289,558.856],"Rotation":0},{"Text":"The","TextBB":[448.164,548.806,466.789,558.856],"Rotation":0},{"Text":"model","TextBB":[469.664,548.806,498.602,558.856],"Rotation":0},{"Text":"of","TextBB":[501.497,548.806,510.882,558.856],"Rotation":0},{"Text":"2PC","TextBB":[513.831,548.806,534.393,558.856],"Rotation":0},{"Text":"protocol.","TextBB":[537.164,548.806,579.956,558.856],"Rotation":0},{"Text":"c.","TextBB":[437.165,613.14,444.957,623.19],"Rotation":0},{"Text":"Sample","TextBB":[447.832,613.14,482.957,623.19],"Rotation":0},{"Text":"code","TextBB":[485.832,613.14,507.623,623.19],"Rotation":0},{"Text":"generated","TextBB":[437.165,628.473,484.541,638.523],"Rotation":0},{"Text":"from","TextBB":[487.332,628.473,511.134,638.523],"Rotation":0},{"Text":"the","TextBB":[513.665,628.473,528.457,638.523],"Rotation":0},{"Text":"model","TextBB":[437.165,643.806,466.103,653.856],"Rotation":0},{"Text":"in","TextBB":[468.999,643.806,478.374,653.856],"Rotation":0},{"Text":"a.","TextBB":[481.165,643.806,489.624,653.856],"Rotation":0},{"Text":"Start:","TextBB":[632.332,433.412,656.42,443.477],"Rotation":0},{"Text":"Send","TextBB":[643.165,445.912,665.22,455.977],"Rotation":0},{"Text":"PREPARE","TextBB":[668.165,445.912,715.62,455.977],"Rotation":0},{"Text":"to","TextBB":[718.332,445.912,727.053,455.977],"Rotation":0},{"Text":"all","TextBB":[729.665,445.912,740.754,455.977],"Rotation":0},{"Text":"OnCommitAck:","TextBB":[632.332,532.912,703.92,542.977],"Rotation":0},{"Text":"b.","TextBB":[629.997,547.806,638.956,557.856],"Rotation":0},{"Text":"Three","TextBB":[641.831,547.806,670.455,557.856],"Rotation":0},{"Text":"code","TextBB":[673.33,547.806,695.122,557.856],"Rotation":0},{"Text":"blocks","TextBB":[697.997,547.806,728.174,557.856],"Rotation":0},{"Text":"when","TextBB":[730.997,547.806,756.539,557.856],"Rotation":0},{"Text":"writing","TextBB":[629.997,560.306,664.914,570.356],"Rotation":0},{"Text":"2PC","TextBB":[667.83,560.306,688.393,570.356],"Rotation":0},{"Text":"protocol","TextBB":[691.164,560.306,731.101,570.356],"Rotation":0},{"Text":"in","TextBB":[733.997,560.306,743.372,570.356],"Rotation":0},{"Text":"a","TextBB":[746.164,560.306,751.747,570.356],"Rotation":0},{"Text":"pure","TextBB":[629.997,572.806,652.288,582.856],"Rotation":0},{"Text":"event-driven","TextBB":[655.164,572.806,715.205,582.856],"Rotation":0},{"Text":"fashion.","TextBB":[717.997,572.806,755.788,582.856],"Rotation":0},{"Text":"LOG(\u201CPrepare\u201D);","TextBB":[545.832,585.894,625.899,592.968],"Rotation":0},{"Text":"PAR_BEGIN(-1)","TextBB":[545.832,595.727,615.232,602.801],"Rotation":0},{"Text":"for_each(p,","TextBB":[556.498,605.56,615.232,612.634],"Rotation":0},{"Text":"SubodinateSet)","TextBB":[620.499,605.56,695.232,612.634],"Rotation":0},{"Text":"{","TextBB":[700.499,605.56,705.899,612.634],"Rotation":0},{"Text":"SendMsg(p,","TextBB":[567.165,615.393,620.565,622.467],"Rotation":0},{"Text":"PREPARE,","TextBB":[625.832,615.393,668.565,622.467],"Rotation":0},{"Text":"AckBuf[p]);","TextBB":[673.832,615.393,732.566,622.467],"Rotation":0},{"Text":"}","TextBB":[556.498,625.226,561.898,632.3],"Rotation":0},{"Text":"PAR_END","TextBB":[545.832,635.059,583.232,642.133],"Rotation":0},{"Text":"if","TextBB":[545.832,644.892,556.565,651.966],"Rotation":0},{"Text":"(all_ready)","TextBB":[561.832,644.892,620.565,651.966],"Rotation":0},{"Text":"{","TextBB":[625.832,644.892,631.232,651.966],"Rotation":0},{"Text":"LOG(\u201CCommit\u201D);","TextBB":[556.499,654.725,631.232,661.799],"Rotation":0},{"Text":"PAR_BEGIN(-1)","TextBB":[556.499,664.558,625.899,671.632],"Rotation":0},{"Text":"for_each(p,","TextBB":[567.165,674.391,625.899,681.465],"Rotation":0},{"Text":"SubodinateSet)","TextBB":[631.166,674.391,705.899,681.465],"Rotation":0},{"Text":"{","TextBB":[711.166,674.391,716.566,681.465],"Rotation":0},{"Text":"SendMsg(p,","TextBB":[577.832,684.223,631.232,691.297],"Rotation":0},{"Text":"COMMIT,","TextBB":[636.499,684.223,673.899,691.297],"Rotation":0},{"Text":"AckBuf[p]);","TextBB":[679.166,684.223,737.899,691.297],"Rotation":0},{"Text":"}","TextBB":[567.164,694.061,572.564,701.135],"Rotation":0},{"Text":"PAR_END","TextBB":[556.497,703.895,593.897,710.969],"Rotation":0},{"Text":"}","TextBB":[545.831,713.728,551.231,720.802],"Rotation":0}],"Mention":["WiDS-Mod borrows the principle of Intentional Pro-\ngramming [7] and adopts a hybrid approach. Taking \nadvantage of temporal logic [8] and UML [9], our de-\nscription language allows users to specify protocol logic \nin an abstract level and in the GUI (e.g. Figure 3(a)). \nThe protocol logic is then automatically turned into \nskeleton code (c.f. Figure 3(c)). The users then fill in \nthe rest of implementation, such as  the code that exam-\nines the field of the AckBuf returned from the slaves to \nset the all_ready flag that decides whether to pro-\nceed to the commit phase of a two-phase commit proto-\ncol.  \n"],"Page":4,"Number":3,"Type":"Figure","CaptionBB":[442,725,743,768],"Height":1100,"Width":850,"DPI":100,"ImageBB":[429,412,759,722]}